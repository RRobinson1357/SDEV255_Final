<%- include('partials/header'); -%>

<body>

    <div class="details content">
        <h2><%= course.name %></h2>
        <div class="content">
            <p>Credit Hours: <%= course.creditHours %></p>
            <p>Area of Study: <%= course.subjectArea %></p>
            <p>Course Description: <%= course.description %></p>
    </div>
    <a class="delete" data-doc="<%= course._id %>">delete</a>
    </div>

    

    <script>
        const trashcan = document.querySelector('a.delete');

    trashcan.addEventListener('click', (e) => {
        const endpoint = `/courses/${trashcan.dataset.doc}`;

        fetch(endpoint, {
            method: 'DELETE',
        })
        .then(response => response.json())
        .then(data => window.location.href = data.redirect)
        .catch(err => console.log(err));
    });
    
    </script>
<%- include("./partials/footer.ejs") %>